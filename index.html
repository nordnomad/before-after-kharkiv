<!DOCTYPE html><html lang="en" xmlns="http://www.w3.org/1999/html"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/><meta name="description" content="Харьков в 1942 и сейчас"><title>Харьков в 1942 и сейчас</title><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="favicon.ico" type="image/x-icon"><link rel="preload" as="image" href="https://17200.selcdn.ru/AerialWWII/Z16/22224/39363.jpg" crossorigin="anonymous"/> <style>.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity 0.2s linear;-moz-transition:opacity 0.2s linear;transition:opacity 0.2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform 0.25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform 0.25s cubic-bezier(0,0,.25,1);transition:transform 0.25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline:0}.leaflet-container a{color:#0078A8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font:12px/1.5 "Helvetica Neue",Arial,Helvetica,sans-serif}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:bold 18px 'Lucida Console',Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(images/layers.png);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(images/layers-2x.png);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(images/marker-icon.png)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-moz-box-sizing:border-box;box-sizing:border-box;background:#fff;background:rgba(255,255,255,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;border:none;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}</style><style>#map-base,body,html{margin:0;padding:0;height:100%;width:100vw;font-size:calc(.6em + 1vmin);font-family:"Source Sans Pro","Helvetica Neue",Helvetica,Arial,sans-serif}p{margin:0 0 10px}#container{position:fixed;top:0;left:0;right:0;bottom:0}#map-base{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1}#map-clip{position:absolute;top:0;left:50%;right:0;bottom:0;z-index:3;overflow:hidden!important;border-left:1px solid #c00}#map-clip-inner{position:absolute;top:0;left:-100%;right:0;bottom:0}#map-overlay{position:absolute;top:0;left:0;right:0;bottom:0;z-index:5}#control-slider{position:absolute;top:10px;left:50%;width:40px;height:40px;margin-left:-20px;background-color:#c00;border-radius:100%;text-align:center;line-height:44px;font-size:16px;z-index:10;font-weight:700;color:#fff;cursor:ew-resize;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-shadow:0 0 20px #000;text-shadow:0 0 3px rgba(0,0,0,.33);-webkit-transition:top .5s ease-out;-moz-transition:top .5s ease-out;-o-transition:top .5s ease-out;transition:top .5s ease-out}#control-slider::after,#control-slider::before{position:absolute;padding:1px 10px 0;top:8px;z-index:-1;color:#fff;font-size:1em;font-weight:700;height:23px;line-height:22px;background-color:#c00;letter-spacing:.1em;border-radius:7px}#control-slider::before{content:"1942";text-align:right;padding-right:40px;right:0}#control-slider i{margin:0 -.23em}[class*=" icon-"],[class^=icon-]{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-arrow-left:before{content:"e92c"}#control-slider::after{content:"2015";text-align:left;padding-left:40px;left:0}#content-2015{z-index:6}#content-1942{z-index:2}.content{display:none;position:absolute;left:0;top:0;bottom:0;width:50%;min-width:300px;max-height:100%;background-color:rgba(0,0,0,.67);overflow-x:hidden;overflow-y:auto;z-index:1;pointer-events:auto}@media screen and (orientation:portrait){.content{top:auto;bottom:0;width:100%}}.content-wrapper{position:relative;margin:2vh auto;width:90%;color:#fff;font-weight:300;text-shadow:0 0 10px rgba(0,0,0,.5);text-align:justify}.small .content-wrapper{box-sizing:border-box;margin:0;width:100%;padding:0 10px 0}.content-header{margin-bottom:5px;margin-top:5px;display:flex;justify-content:space-between}.content-header h2{margin:0;line-height:1.2em;font-weight:300}.content-navigation,.content-text{line-height:1.4em}.content-navigation{justify-content:space-between;display:flex}.btn{background-color:#c00;color:#fff}.btn:active{background-color:#b20000}.goto{border-radius:20px;padding:5px 15px 5px;text-decoration:none;-webkit-transition:background-color,box-shadow .2s ease-out;-moz-transition:background-color,box-shadow .2s ease-out;-o-transition:background-color,box-shadow .2s ease-out;transition:background-color,box-shadow .2s ease-out}.goto i{font-size:.9em;vertical-align:-9%}.icon-cross:before{content:"e924"}.goto-explore{width:1em;height:1em;text-align:center;line-height:1em;background-color:#aaa;color:#000;border-radius:100%;text-decoration:none;padding:.55em .5em .45em;-webkit-transition:background-color .2s ease-out;-moz-transition:background-color .2s ease-out;-o-transition:background-color .2s ease-out;transition:background-color .2s ease-out}.content-image{text-align:center}.content-image img{max-width:100%}#map-overlay{position:absolute;top:0;left:0;right:0;bottom:0;z-index:5}.show-intro #intro{position:absolute;top:0;left:0;right:0;bottom:0;z-index:20;text-align:center;padding:20vh 0 0;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.intro-button{display:inline-block;border-radius:1em;font-size:3.5vmax;padding:.3em .8em .2em;text-decoration:none;-webkit-transition:background-color,box-shadow .2s ease-out;-moz-transition:background-color,box-shadow .2s ease-out;-o-transition:background-color,box-shadow .2s ease-out;transition:background-color,box-shadow .2s ease-out;font-weight:300;margin-top:.7em;margin-left:.5em;box-shadow:0 0 30px rgba(0,0,0,.5);text-shadow:0 0 30px rgba(0,0,0,.5)}@media screen and (min-width:1200px){.intro-button{font-size:3.5vh}}#intro h1{font-size:20vh;text-shadow:0 0 4vh #000;color:#fff}#intro p{font-size:8.5vh;text-shadow:0 0 1.6vh #000;color:#eee}#intro h1,#intro p{font-weight:500;text-transform:uppercase;margin:0;padding:0;line-height:1em}@media screen and (orientation:portrait){#intro h1{font-size:11vh}#intro p{font-size:6vh}}.leaflet-control-container{display:none}.leaflet-marker-icon{border-radius:100%}.leaflet-control a,.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:14px}.leaflet-container div{font:14px/1.5 "Helvetica Neue",Arial,Helvetica,sans-serif}.leaflet-control-locate a{color:#000;cursor:pointer}.leaflet-control-locate.active a{color:#2074b6}.leaflet-control-locate.active.following a{color:#fc8428}.beautify-marker{text-align:center;font-weight:700;font-family:monospace;position:absolute;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.beautify-marker.circle{border-radius:100%}.beautify-marker.circle-dot,.beautify-marker.doughnut{border-radius:100%}@font-face{font-family:icomoon;src:url(/css/fonts/icomoon.eot?jfeql7);src:url(/css/fonts/icomoon.eot?jfeql7#iefix) format('embedded-opentype'),url(/css/fonts/icomoon.ttf?jfeql7) format('truetype'),url(/css/fonts/icomoon.woff?jfeql7) format('woff'),url(/css/fonts/icomoon.svg?jfeql7#icomoon) format('svg');font-weight:400;font-style:normal;font-display:block}[class*=" icon-"],[class^=icon-]{font-family:icomoon!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-cross:before{content:"ea0f"}.icon-arrow-right2:before{content:"ea3c"}.icon-arrow-left2:before{content:"ea40"}.icon-question:before{content:"ea09"}.icon-info:before{content:"ea0c"}.icon-facebook:before{content:"e904"}.icon-map-o:before{content:"e906"}.icon-map-signs:before{content:"e907"}.icon-location-arrow:before{content:"e908"}.icon-spinner:before{content:"e902"}.icon-telegram:before{content:"e903"}</style></head> <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z313DSJ2HE"></script> <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);} gtag('js',new Date());gtag('config','G-Z313DSJ2HE');</script> <body><div id="container" class="show-intro"><div id="intro"><h1>Харьков</h1><p>в 1942 и сегодня</p><div id="button-explore" class="intro-button btn"> <i class="icon-map-o"></i> Исследовать</div><div id="button-start" class="intro-button btn"> Пройти тур <i class="icon-map-signs"></i></div></div><div id="map-base"></div><div class="content" id="content-1942"><div class="content-wrapper"><div class="content-header"><h2 id="content-title-1942"></h2><div class="goto goto-explore" title="Исследовать"> <i class="icon-cross"></i></div></div><div class="content-image"> <img id="content-img-1942" src=""></div><div class="content-text"><p id="content-description-1942"></p></div><div class="content-navigation"><div id="goto-back" class="goto btn"> <i class="icon-arrow-left2"></i> Назад</div><div id="goto-2015" class="goto btn"> 2015 <i class="icon-arrow-right2"></i></div></div></div></div><div id="map-clip" class="resize"><div id="map-clip-inner"><div id="map-overlay"></div><div class="content" id="content-2015"><div class="content-wrapper"><div class="content-header"><h2 id="content-title-2015"></h2><div class="goto goto-explore" title="Исследовать"> <i class="icon-cross"></i></div></div><div class="content-image"> <img id="content-img-2015" src=""></div><div class="content-text"><p id="content-description-2015"></p></div><div class="content-navigation"><div id="goto-1942" class="goto btn"> <i class="icon-arrow-left2"></i> 1942</div><div id="goto-next" class="goto btn"> Вперед <i class="icon-arrow-right2"></i></div></div></div></div></div></div><div id="control-slider"> <i class="icon-arrow-left2"></i> <i class="icon-arrow-right2"></i></div></div> <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" crossorigin="anonymous"></script> <script src="https://unpkg.com/leaflet.tilelayer.fallback@1.0.4/dist/leaflet.tilelayer.fallback.js" crossorigin="anonymous"></script> <script src="https://unpkg.com/jquery@3.6.0/dist/jquery.min.js" crossorigin="anonymous"></script> <script type="text/javascript">var contentTitle42=document.querySelector("#content-title-1942"),contentTitle15=document.querySelector("#content-title-2015"),contentDescription42=document.querySelector("#content-description-1942"),contentDescription15=document.querySelector("#content-description-2015"),contentImage42=document.querySelector("#content-img-1942"),contentImage15=document.querySelector("#content-img-2015"),goto42=document.querySelector("#goto-1942"),goto15=document.querySelector("#goto-2015"),gotoExplore=document.querySelectorAll(".goto.goto-explore"),gotoNext=document.querySelector("#goto-next"),gotoBack=document.querySelector("#goto-back"),controlSlider=$("#control-slider"),mapClip=$("#map-clip"),mapClipInner=$("#map-clip-inner"),content=$(".content"),containerClasses=document.querySelector("#container").classList;function applySmallStyle(t){isPortraitOrientation()||window.innerHeight<300?t.add("small"):t.remove("small")}function refreshContentPanel(t){contentTitle42.innerHTML=t.title,contentTitle15.innerHTML=t.title,contentDescription42.innerHTML=t.desc1942,contentDescription15.innerHTML=t.desc2015,contentImage42.setAttribute("data-src",t.img1942),contentImage15.setAttribute("data-src",t.img2015)}function loadImage(t,e,n){return"https://res.cloudinary.com/dpcafrjml/image/upload/h_"+n+",w_"+e+"/"+t}function initContentPanel(){function t(){containerClasses.remove("show-intro")}goto42.addEventListener("click",function(){right()}),goto15.addEventListener("click",function(){left()}),gotoExplore.forEach(function(t){t.addEventListener("click",function(){KH.prototype.unselectMarker(),hideContent()})}),gotoNext.addEventListener("click",function(){for(var t=contentTitle42.innerHTML,e=-1,n=0;n<geoJson.length;n++)if(geoJson[n].properties.title==t){e=n+1;break}e>=geoJson.length&&(e=0),KH.prototype.markerClickListener(geoJson[e],!1)}),gotoBack.addEventListener("click",function(){for(var t=contentTitle42.innerHTML,e=-1,n=0;n<geoJson.length;n++)if(geoJson[n].properties.title==t){e=n-1;break}e<0&&(e=geoJson.length-1),KH.prototype.markerClickListener(geoJson[e],!1)}),document.querySelector("#button-explore").addEventListener("click",function(e){t(),showMapControls()},!1),document.querySelector("#button-start").addEventListener("click",function(e){t(),KH.prototype.markerClickListener(geoJson[0],!1)},!1)}function markerClickHandler(t,e){refreshContentPanel(t.properties),e?left():right()}function left(){controlSlider.animate({left:"0px"},"slow","linear"),mapClip.animate({left:"0px"},"slow","linear"),mapClipInner.animate({left:"1px"},"slow","linear",function(){showContent()})}function right(){var t=document.body.clientWidth;controlSlider.animate({left:t+"px"},"slow","linear"),mapClip.animate({left:t+"px"},"slow","linear"),mapClipInner.animate({left:1-t+"px"},"slow","linear",function(){showContent()})}function showContent(){content.fadeIn("slow");var t=Number(contentDescription42.offsetWidth.toFixed(0)),e=Number((10*t/16).toFixed(0)),n=contentImage42.getAttribute("data-src");contentImage42.src=loadImage(n,t,e);var o=contentImage15.getAttribute("data-src");contentImage15.src=loadImage(o,t,e)}function hideContent(){content.fadeOut("slow",function(){var t=document.body.clientWidth/2;controlSlider.animate({left:t+"px"},"slow"),mapClip.animate({left:t+"px"},"slow"),mapClipInner.animate({left:1-t+"px"},"slow")}),showMapControls()}function isPortraitOrientation(){return window.matchMedia("(orientation: portrait)").matches}function hideMapControls(){$(".leaflet-control-container").hide()}function showMapControls(){$(".leaflet-control-container").show()}</script> <script type="text/javascript">geoJson=[{"type":"Feature","properties":{"title":"Площадь конституции","desc1942":"В 1814 году харьковское дворянство приняло решение выстроить для своих собраний отдельное здание. В столичное время здесь размещалось республиканское правительство – Всеукраинский Центральный Исполнительный комитет. С переездом столицы в Киев здание бывшего дворянского собрания было передано под Дом пионеров","desc2015":"Во время бомбежек 1943 года в здание попала авиабомба. После войны местные власти приняли решение снести разрушенное здание и разбить здесь сквер. До начала XXI века на этом месте стоял памятник в честь провозглашения советской власти, в народе называвшийся «Пятеро из ломбарда». В 2011 году его демонтировали, а через год здесь появился памятник «Летящая Украина».","img1942":"konstitutsii_old.jpg","img2015":"konstitutsii_new.jpg"},"geometry":{"type":"Point","coordinates":[36.231661,49.992843]}},{"type":"Feature","properties":{"title":"Гостиница «Метрополь»","desc1942":"Главным конкурентом «Гранд-Отеля», была построенная в 1914 году на Николаевской площади гостиница «Метрополь». Здесь были такие новинки начала ХХ века, как телефон и отопление, в каждом номере имелся умывальник. В гостинице был даже собственный парикмахер.","desc2015":"В 1954 году на месте «Метрополя» («Красной») был построен пятиэтажный жилой дом","img1942":"metropol_old.jpg","img2015":"metropol_new.jpg"},"geometry":{"type":"Point","coordinates":[36.233089,49.991357]}},{"type":"Feature","properties":{"title":"ТЦ Павловский","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"tc_pavlovsky_old.jpg","img2015":"tc_pavlovsky_new.jpg"},"geometry":{"type":"Point","coordinates":[36.230848,49.987504]}},{"type":"Feature","properties":{"title":"Магазин мехов","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"meha_old.jpg","img2015":"meha_new.jpg"},"geometry":{"type":"Point","coordinates":[36.233215,49.988206]}},{"type":"Feature","properties":{"title":"Южный вокзал","desc1942":"Первое здание вокзала построили в 1870 году, а в 1901г его расширили и модернизировали. К старому зданию вокзала с южной стороны пристроили новый корпус, а затем перестроили и старое помещение.","desc2015":"Новый вокзал построили к 1952му году, а в 1982 его расширили на юг. Построена 16тиэтажная гостиница Экспрес на 54 номера.","img1942":"vokzal_old.png","img2015":"vokzal_new2.png"},"geometry":{"type":"Point","coordinates":[36.204328,49.989376]}},{"type":"Feature","properties":{"title":"Привокзальная площадь","desc1942":"Площадь тоже менялась не раз, на фото конец 20х годов, трамвай разворачивался у самого здания вокзала, а круг был покрыт разрисованым газоном. На карте видно что к началу войны газон и трамвайный круг сократили вдвое, на освободившемся месте сделали парковку и оставновки автобусов. Были построены здания формирующие облик площади - управление ЮЖД и главпочтамп","desc2015":"Круг трамвая был перенесен с площади за управление ЮЖД. Под площадью была построена станция метро. В 2002 году площадь реконструировали — была положена мозаичная плитка, разбиты клумбы, открыты фонтаны, площадь закрыли для движения транспорта. В 2006 году был построен современный северный терминал вокзала «Харьков-Пассажирский»","img1942":"railway_station_old.jpg","img2015":"railway_station_new.jpg"},"geometry":{"type":"Point","coordinates":[36.206427,49.989743]}},{"type":"Feature","properties":{"title":"Сергиевская площадь","desc1942":"Площадь под университетскими склонами с самого основания города отличалась сосредоточением бойкой торговли. Каменные торговые ряды здесь росли постепенно.","desc2015":"В 1941-1945 годах все торговые ряды сгорели. И после войны их решили не восстанавливать.","img1942":"sergievskaya_ploschad_old.jpg","img2015":"sergievskaya_ploschad_new.jpg"},"geometry":{"type":"Point","coordinates":[36.227376,49.989632]}},{"type":"Feature","properties":{"title":"Дом со шпилем","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"dom_so_shpilem_old.jpg","img2015":"dom_so_shpilem_new.jpg"},"geometry":{"type":"Point","coordinates":[36.233411,49.988653]}},{"type":"Feature","properties":{"title":"Горсовет","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"gorsovet_old.jpg","img2015":"gorsovet_new.jpg"},"geometry":{"type":"Point","coordinates":[36.232269,49.989964]}},{"type":"Feature","properties":{"title":"Соборный спуск - Люсин мостик","desc1942":"В 1875 году через спуск от одного из выходов пассажа к университетской горке был перекинут пешеходный мостик, который, приглядевшись, видно на карте. В отличие от зданий вокруг, мостик выдержал и пережил войну","desc2015":"После войны он был перенесен в сад Шевченка. Городская легенда гласит, что перенести мост распорядился один из городских чиновников. Его жене по имени Люся, якобы было неудобно обходить балку по пути на работу. Так мостик стали называть Люсиным","img1942":"soborny_most_old.jpg","img2015":"soborny_most_new.jpg"},"geometry":{"type":"Point","coordinates":[36.229080,49.990418]}},{"type":"Feature","properties":{"title":"Соборный спуск - пассаж","desc1942":"В 1858 году было построено одно из самых больших городских зданий того времени - "Большой корпус". В нем размещались оптовые и розничные магазины. В 1875 в его части был открыт аналог современного Даффи - Пассаж","desc2015":"На месте пассажа был разбит Покровский сквер с фонтанами и клумбами. С верхней террасы можно полюбоваться залопанской частью города, например, Благовещенским собором. Местные художники устроили в сквере галерею под открытым небом и продают здесь свои картины","img1942":"soborny_passazh_old.jpg","img2015":"soborny_passazh_new.jpg"},"geometry":{"type":"Point","coordinates":[36.229336,49.990889]}},{"type":"Feature","properties":{"title":"Соборный спуск - присутственные места","desc1942":"На южной стороне спуска размещалось здание присутственных мест, которое потом было реконструировано в стиле конструктивизм и там разместился дом красной армии.","desc2015":"На месте дома армии установили памятник с вечным огнем и разбили сквер вокруг. http://the-past.inf.ua/list-2-1-35.html","img1942":"soborny_mesta_old.jpg","img2015":"soborny_mesta_new.jpg"},"geometry":{"type":"Point","coordinates":[36.229390,49.989888]}},{"type":"Feature","properties":{"title":"Гостиница «Гранд-отель»","desc1942":"Роскошная трехэтажная гостиница появилась в 1830 году. Ее владельцем был купец Павлов, в честь которого названа площадь. Это была если не самая, то одна из самых роскошных гостиниц дореволюционного Харькова.","desc2015":"В годы войны отель был разрушен. А в самом начале ХХІ века на месте, где ранее располагалась гостиница, был водружен монумент к десятилетию независимости. Но простоял он на площади лишь десять лет.","img1942":"grand_otel_old.jpg","img2015":"grand_otel_new.jpg"},"geometry":{"type":"Point","coordinates":[36.227960,49.987354]}},{"type":"Feature","properties":{"title":"Стадион Металист","desc1942":"В 1925 году о заброшенном пустыре практически в центре города вспомнили руководители Харьковского райкома Союза Металлистов и решили построить на его месте стадион.","desc2015":"5 декабря 2009 года Металлист был торжественно открыт после грандиозной реконструкции, а совсем недавно на стадионе появился новый, сверхсовременный газон. Стадион принимает матчи высшего уровня, еврокубки и матчи национальных сборных, и по праву считается одним из лучших стадионов страны","img1942":"metalist_old.jpg","img2015":"metalist_new.jpg"},"geometry":{"type":"Point","coordinates":[36.2619546,49.980829]}},{"type":"Feature","properties":{"title":"Авеплаза","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"ave_plaza_old.jpg","img2015":"ave_plaza_new.jpg"},"geometry":{"type":"Point","coordinates":[36.232723,49.994598]}},{"type":"Feature","properties":{"title":"Сад Шевченко","desc1942":"До революции - Университетский сад, как , был заложен одновременно с созданием Харьковского университета в1804 г. на землях, подаренных новом учебному заведению городом. Раньше эта территория представляла собой естественную дубраву, от которой нам в наследство осталось около 20 великанов-дубов. Университетский сад состоял из двух частей: ботанической (для учебных и научных целей) и общедоступной, которая была спланирована в английском ландшафтном стиле. Сад был окружен высокой каменной оградой с декоративными коваными решетками.","desc2015":"В послевоенное время, проводилось несколько реконструкций, были построенны ККЗ Украина, фонтан Каскад, фонтан на центральной аллее, здание ХАТОБа. Последняя реконструкция территории сада завершилась в 2019 году.","img1942":"sad_shevchenko_old.jpg","img2015":"sad_shevchenko_new.jpg"},"geometry":{"type":"Point","coordinates":[36.233472,50.001232]}},{"type":"Feature","properties":{"title":"ХНАТОБ","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"hnatob_old.jpg","img2015":"hnatob_new.jpg"},"geometry":{"type":"Point","coordinates":[36.233195,49.999005]}},{"type":"Feature","properties":{"title":"Парк Горького","desc1942":"Парк был заложен в 1893—1895 гг. , а торжественное открытие было в 1907 году, когда подросли деревья. Загородный Николаевский (изначально он располагался на окраине города), в честь грядущей свадьбы престолонаследника. Алеи парка предназначались для конных прогулок.","desc2015":"В 2010 году было принято решение реконструировать парк Горького которая завершилась 23 августа 2012 года. В парке Горького работают более 30 аттракционов от итальянских, немецких, американских производителей. Они рассчитаны на посетителей всех возрастов. Аттракционы работают круглый год.","img1942":"park_gorkogo_old.jpg","img2015":"park_gorkogo_new.jpg"},"geometry":{"type":"Point","coordinates":[36.246448,50.016350]}},{"type":"Feature","properties":{"title":"ХОДА","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"hoda_old.jpg","img2015":"hoda_new.jpg"},"geometry":{"type":"Point","coordinates":[36.236512,50.004298]}},{"type":"Feature","properties":{"title":"Отель Харьков","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"kharkiv_otel_old.jpg","img2015":"kharkiv_otel_new.jpg"},"geometry":{"type":"Point","coordinates":[36.232647,50.005365]}},{"type":"Feature","properties":{"title":"Станция метро - химкорус ","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"him_korpus_old.jpg","img2015":"him_korpus_new.jpg"},"geometry":{"type":"Point","coordinates":[36.231589,50.005629]}},{"type":"Feature","properties":{"title":"Университет Каразина","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"karazina_old.jpg","img2015":"karazina_new.jpg"},"geometry":{"type":"Point","coordinates":[36.228175,50.004326]}},{"type":"Feature","properties":{"title":"Сумская, 39","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"sumskaya_39_old.jpg","img2015":"sumskaya_39_new.jpg"},"geometry":{"type":"Point","coordinates":[36.235376,50.005084]}},{"type":"Feature","properties":{"title":"Зоологический мост","desc1942":"До строительства мостика перебраться через Клочковский спуск можно было по двум головоломным лестницам","desc2015":"Мост был построен до 1953го года, а с конца 2000-х стал популярным у влюблённых, которые вешают на него множество замочков","img1942":"zoologichesky_most_old.jpg","img2015":"zoologichesky_most_new.jpg"},"geometry":{"type":"Point","coordinates":[36.224806,50.004757]}},{"type":"Feature","properties":{"title":"Горбатый мост","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"gorbaty_most_old.jpg","img2015":"gorbaty_most_new.jpg"},"geometry":{"type":"Point","coordinates":[36.243996,49.992660]}},{"type":"Feature","properties":{"title":"Гигант","desc1942":"Nec ultrices dui sapien eget mi proin. Amet risus nullam eget felis eget nunc lobortis mattis aliquam. Augue mauris augue neque gravida in fermentum. Nisi vitae suscipit tellus mauris a diam maecenas sed. Ullamcorper velit sed ullamcorper morbi tincidunt ornare massa eget.","desc2015":"Elementum tempus egestas sed sed. Tempus imperdiet nulla malesuada pellentesque elit eget gravida cum. Leo vel orci porta non pulvinar neque laoreet suspendisse. Nisl pretium fusce id velit ut. Arcu risus quis varius quam quisque id.","img1942":"gigant_old.jpg","img2015":"gigant_new.jpg"},"geometry":{"type":"Point","coordinates":[36.249818,50.006355]}}]</script> <script type="text/javascript">(function($){function drags(dragElement,resizeElement,container){dragElement.on('mousedown.ba-events touchstart.ba-events',function(e){dragElement.addClass('ba-draggable');resizeElement.addClass('ba-resizable');var startX=(e.pageX!=undefined)?e.pageX:e.originalEvent.touches[0].pageX;var dragWidth=dragElement.outerWidth(),posX=dragElement.offset().left+dragWidth-startX,containerOffset=container.offset().left,containerWidth=container.outerWidth(),dragElementOffset=dragElement.width()/2 var minLeft=containerOffset-dragElementOffset;var maxLeft=containerOffset+containerWidth-dragWidth+dragElementOffset;dragElement.parents().on("mousemove.ba-events touchmove.ba-events",function(e){var moveX=(e.pageX!=undefined)?e.pageX:e.originalEvent.touches[0].pageX;var leftValue=moveX+posX-dragWidth;if(leftValue<minLeft){leftValue=minLeft}else if(leftValue>maxLeft){leftValue=maxLeft} var widthValue=(leftValue+dragWidth/2-containerOffset);var draggable=document.querySelector('.ba-draggable');if(draggable){draggable.style.left=widthValue+'px'} var resizable=document.querySelector('.ba-resizable');if(resizable){resizable.style.left=widthValue+'px'} var mapClip=document.querySelector('.ba-resizable #map-clip-inner');if(mapClip){mapClip.style.left=(-widthValue+1)+'px'}}).on('mouseup.ba-events touchend.ba-events touchcancel.ba-events',function(){dragElement.removeClass('ba-draggable');resizeElement.removeClass('ba-resizable');$(this).off('.ba-events')});e.preventDefault()})} $.fn.beforeAfter=function(){var cur=this;var width=cur.width()+'px';cur.find('.resize #map-clip-inner').css('width',width);drags(cur.find('#control-slider'),cur.find('#map-clip'),cur);window.addEventListener('resize',function(){var width=cur.width()+'px';cur.find('.resize #map-clip-inner').css('width',width)})}}(jQuery))</script> <script type="text/javascript">(function(){var NO_ANIMATION={animate:!0,reset:!0,disableViewprereset:!0};L.Sync=function(){};L.Sync.offsetHelper=function(ratioRef,ratioTarget){var or=L.Util.isArray(ratioRef)?ratioRef:[0.5,0.5];var ot=L.Util.isArray(ratioTarget)?ratioTarget:[0.5,0.5];return function(center,zoom,refMap,targetMap){var rs=refMap.getSize();var ts=targetMap.getSize();var pt=refMap.project(center,zoom).subtract([(0.5-or[0])*rs.x,(0.5-or[1])*rs.y]).add([(0.5-ot[0])*ts.x,(0.5-ot[1])*ts.y]);return refMap.unproject(pt,zoom)}};L.Map.include({sync:function(map,options){this._initSync();options=L.extend({noInitialSync:!1,syncCursor:!1,syncCursorMarkerOptions:{radius:10,fillOpacity:0.3,color:'#da291c',fillColor:'#fff'},offsetFn:function(center,zoom,refMap,targetMap){return center}},options);if(this._syncMaps.indexOf(map)===-1){this._syncMaps.push(map);this._syncOffsetFns[L.Util.stamp(map)]=options.offsetFn} if(!options.noInitialSync){map.setView(options.offsetFn(this.getCenter(),this.getZoom(),this,map),this.getZoom(),NO_ANIMATION)} if(options.syncCursor){if(typeof map.cursor==='undefined'){map.cursor=L.circleMarker([0,0],options.syncCursorMarkerOptions).addTo(map)} this._cursors.push(map.cursor);this.on('mousemove',this._cursorSyncMove,this);this.on('mouseout',this._cursorSyncOut,this)} this.on('resize zoomend',this._selfSetView);this.on('moveend',this._syncOnMoveend);this.on('dragend',this._syncOnDragend);return this},unsync:function(map){var self=this;if(this._cursors){this._cursors.forEach(function(cursor,indx,_cursors){if(cursor===map.cursor){_cursors.splice(indx,1)}})} if(map.cursor){map.cursor.setLatLng([0,0])} if(this._syncMaps){this._syncMaps.forEach(function(synced,id){if(map===synced){delete self._syncOffsetFns[L.Util.stamp(map)];self._syncMaps.splice(id,1)}})} if(!this._syncMaps||this._syncMaps.length==0){this.off('resize zoomend',this._selfSetView);this.off('moveend',this._syncOnMoveend);this.off('dragend',this._syncOnDragend)} return this},isSynced:function(otherMap){var has=(this.hasOwnProperty('_syncMaps')&&Object.keys(this._syncMaps).length>0);if(has&&otherMap){has=!1;this._syncMaps.forEach(function(synced){if(otherMap==synced){has=!0}})} return has},_cursorSyncMove:function(e){this._cursors.forEach(function(cursor){cursor.setLatLng(e.latlng)})},_cursorSyncOut:function(e){this._cursors.forEach(function(cursor){cursor.setLatLng([0,0])})},_selfSetView:function(e){this.setView(this.getCenter(),this.getZoom(),NO_ANIMATION)},_syncOnMoveend:function(e){if(this._syncDragend){this._syncDragend=!1;this._selfSetView(e);this._syncMaps.forEach(function(toSync){toSync.fire('moveend')})}},_syncOnDragend:function(e){this._syncDragend=!0},_initSync:function(){if(this._syncMaps){return} var originalMap=this;this._syncMaps=[];this._cursors=[];this._syncOffsetFns={};L.extend(originalMap,{setView:function(center,zoom,options,sync){function sandwich(obj,fn){var viewpreresets=[];var doit=options&&options.disableViewprereset&&obj&&obj._events;if(doit){viewpreresets=obj._events.viewprereset;obj._events.viewprereset=[]} var ret=fn(obj);if(doit){obj._events.viewprereset=viewpreresets} return ret} var ret=sandwich(this,function(obj){return L.Map.prototype.setView.call(obj,center,zoom,options)});if(!sync){originalMap._syncMaps.forEach(function(toSync){sandwich(toSync,function(obj){return toSync.setView(originalMap._syncOffsetFns[L.Util.stamp(toSync)](center,zoom,originalMap,toSync),zoom,options,!0)})})} return ret},panBy:function(offset,options,sync){if(!sync){originalMap._syncMaps.forEach(function(toSync){toSync.panBy(offset,options,!0)})} return L.Map.prototype.panBy.call(this,offset,options)},_onResize:function(event,sync){if(!sync){originalMap._syncMaps.forEach(function(toSync){toSync._onResize(event,!0)})} return L.Map.prototype._onResize.call(this,event)},_stop:function(sync){L.Map.prototype._stop.call(this);if(!sync){originalMap._syncMaps.forEach(function(toSync){toSync._stop(!0)})}}});originalMap.dragging._draggable._updatePosition=function(){L.Draggable.prototype._updatePosition.call(this);var self=this;originalMap._syncMaps.forEach(function(toSync){L.DomUtil.setPosition(toSync.dragging._draggable._element,self._newPos);toSync.eachLayer(function(layer){if(layer._google!==undefined){var offsetFn=originalMap._syncOffsetFns[L.Util.stamp(toSync)];var center=offsetFn(originalMap.getCenter(),originalMap.getZoom(),originalMap,toSync);layer._google.setCenter(center)}});toSync.fire('move')})}}})})()</script> <script type="text/javascript">/*! Copyright (c) 2016 Dominik Moritz This file is part of the leaflet locate control. It is licensed under the MIT license. You can find the project at: https://github.com/domoritz/leaflet-locatecontrol */ (function(factory,window){if(typeof define==='function'&&define.amd){define(['leaflet'],factory)}else if(typeof exports==='object'){if(typeof window!=='undefined'&&window.L){module.exports=factory(L)}else{module.exports=factory(require('leaflet'))}} if(typeof window!=='undefined'&&window.L){window.L.Control.Locate=factory(L)}}(function(L){var LDomUtilApplyClassesMethod=function(method,element,classNames){classNames=classNames.split(' ');classNames.forEach(function(className){L.DomUtil[method].call(this,element,className)})};var addClasses=function(el,names){LDomUtilApplyClassesMethod('addClass',el,names)};var removeClasses=function(el,names){LDomUtilApplyClassesMethod('removeClass',el,names)};var LocationMarker=L.Marker.extend({initialize:function(latlng,options){L.Util.setOptions(this,options);this._latlng=latlng;this.createIcon()},createIcon:function(){var opt=this.options;var style='';if(opt.color!==undefined){style+='stroke:'+opt.color+';'} if(opt.weight!==undefined){style+='stroke-width:'+opt.weight+';'} if(opt.fillColor!==undefined){style+='fill:'+opt.fillColor+';'} if(opt.fillOpacity!==undefined){style+='fill-opacity:'+opt.fillOpacity+';'} if(opt.opacity!==undefined){style+='opacity:'+opt.opacity+';'} var icon=this._getIconSVG(opt,style);this._locationIcon=L.divIcon({className:icon.className,html:icon.svg,iconSize:[icon.w,icon.h],});this.setIcon(this._locationIcon)},_getIconSVG:function(options,style){var r=options.radius;var w=options.weight;var s=r+w;var s2=s*2;var svg='<svg xmlns="http://www.w3.org/2000/svg" width="'+s2+'" height="'+s2+'" version="1.1" viewBox="-'+s+' -'+s+' '+s2+' '+s2+'">'+'<circle r="'+r+'" style="'+style+'" />'+'</svg>';return{className:'leaflet-control-locate-location',svg:svg,w:s2,h:s2}},setStyle:function(style){L.Util.setOptions(this,style);this.createIcon()}});var CompassMarker=LocationMarker.extend({initialize:function(latlng,heading,options){L.Util.setOptions(this,options);this._latlng=latlng;this._heading=heading;this.createIcon()},setHeading:function(heading){this._heading=heading},_getIconSVG:function(options,style){var r=options.radius;var w=(options.width+options.weight);var h=(r+options.depth+options.weight)*2;var path='M0,0 l'+(options.width/2)+','+options.depth+' l-'+(w)+',0 z';var svgstyle='transform: rotate('+this._heading+'deg)';var svg='<svg xmlns="http://www.w3.org/2000/svg" width="'+(w)+'" height="'+h+'" version="1.1" viewBox="-'+(w/2)+' 0 '+w+' '+h+'" style="'+svgstyle+'">'+'<path d="'+path+'" style="'+style+'" />'+'</svg>';return{className:'leaflet-control-locate-heading',svg:svg,w:w,h:h}},});var LocateControl=L.Control.extend({options:{position:'topleft',layer:undefined,setView:'untilPanOrZoom',keepCurrentZoomLevel:!1,getLocationBounds:function(locationEvent){return locationEvent.bounds},flyTo:!1,clickBehavior:{inView:'stop',outOfView:'setView',inViewNotFollowing:'inView',},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:LocationMarker,compassClass:CompassMarker,circleStyle:{className:'leaflet-control-locate-circle',color:'#136AEC',fillColor:'#136AEC',fillOpacity:0.15,weight:0},markerStyle:{className:'leaflet-control-locate-marker',color:'#fff',fillColor:'#2A93EE',fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:'#2A93EE',fillOpacity:1,weight:0,color:'#fff',opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:'fa fa-map-marker',iconLoading:'fa fa-spinner fa-spin',iconElementTag:'span',circlePadding:[0,0],metric:!0,createButtonCallback:function(container,options){var link=L.DomUtil.create('a','leaflet-bar-part leaflet-bar-part-single',container);link.title=options.strings.title;var icon=L.DomUtil.create(options.iconElementTag,options.icon,link);icon.href='#';return{link:link,icon:icon}},onLocationError:function(err,control){alert(err.message)},onLocationOutsideMapBounds:function(control){control.stop();alert(control.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:Infinity,watch:!0,setView:!1}},initialize:function(options){for(var i in options){if(typeof this.options[i]==='object'){L.extend(this.options[i],options[i])}else{this.options[i]=options[i]}} this.options.followMarkerStyle=L.extend({},this.options.markerStyle,this.options.followMarkerStyle);this.options.followCircleStyle=L.extend({},this.options.circleStyle,this.options.followCircleStyle);this.options.followCompassStyle=L.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd:function(map){var container=L.DomUtil.create('div','leaflet-bar leaflet-control leaflet-control-locate');this._layer=this.options.layer||new L.LayerGroup();this._layer.addTo(map);this._event=undefined;this._compassHeading=null;this._prevBounds=null;var linkAndIcon=this.options.createButtonCallback(container,this.options);this._link=linkAndIcon.link;this._icon=linkAndIcon.icon;L.DomEvent.on(this._link,'click',L.DomEvent.stopPropagation).on(this._link,'click',L.DomEvent.preventDefault).on(this._link,'click',this._onClick,this).on(this._link,'dblclick',L.DomEvent.stopPropagation);this._resetVariables();this._map.on('unload',this._unload,this);return container},_onClick:function(){this._justClicked=!0;var wasFollowing=this._isFollowing();this._userPanned=!1;this._userZoomed=!1;if(this._active&&!this._event){this.stop()}else if(this._active&&this._event!==undefined){var behaviors=this.options.clickBehavior;var behavior=behaviors.outOfView;if(this._map.getBounds().contains(this._event.latlng)){behavior=wasFollowing?behaviors.inView:behaviors.inViewNotFollowing} if(behaviors[behavior]){behavior=behaviors[behavior]} switch(behavior){case'setView':this.setView();break;case'stop':this.stop();if(this.options.returnToPrevBounds){var f=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;f.bind(this._map)(this._prevBounds)} break}}else{if(this.options.returnToPrevBounds){this._prevBounds=this._map.getBounds()} this.start()} this._updateContainerStyle()},start:function(){this._activate();if(this._event){this._drawMarker(this._map);if(this.options.setView){this.setView()}} this._updateContainerStyle()},stop:function(){this._deactivate();this._cleanClasses();this._resetVariables();this._removeMarker()},stopFollowing:function(){this._userPanned=!0;this._updateContainerStyle();this._drawMarker()},_activate:function(){if(!this._active){this._map.locate(this.options.locateOptions);this._active=!0;this._map.on('locationfound',this._onLocationFound,this);this._map.on('locationerror',this._onLocationError,this);this._map.on('dragstart',this._onDrag,this);this._map.on('zoomstart',this._onZoom,this);this._map.on('zoomend',this._onZoomEnd,this);if(this.options.showCompass){var oriAbs='ondeviceorientationabsolute'in window;if(oriAbs||('ondeviceorientation'in window)){var _this=this;var deviceorientation=function(){L.DomEvent.on(window,oriAbs?'deviceorientationabsolute':'deviceorientation',_this._onDeviceOrientation,_this)};if(DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission==='function'){DeviceOrientationEvent.requestPermission().then(function(permissionState){if(permissionState==='granted'){deviceorientation()}})}else{deviceorientation()}}}}},_deactivate:function(){this._map.stopLocate();this._active=!1;if(!this.options.cacheLocation){this._event=undefined} this._map.off('locationfound',this._onLocationFound,this);this._map.off('locationerror',this._onLocationError,this);this._map.off('dragstart',this._onDrag,this);this._map.off('zoomstart',this._onZoom,this);this._map.off('zoomend',this._onZoomEnd,this);if(this.options.showCompass){this._compassHeading=null;if('ondeviceorientationabsolute'in window){L.DomEvent.off(window,'deviceorientationabsolute',this._onDeviceOrientation,this)}else if('ondeviceorientation'in window){L.DomEvent.off(window,'deviceorientation',this._onDeviceOrientation,this)}}},setView:function(){this._drawMarker();if(this._isOutsideMapBounds()){this._event=undefined;this.options.onLocationOutsideMapBounds(this)}else{if(this.options.keepCurrentZoomLevel){var f=this.options.flyTo?this._map.flyTo:this._map.panTo;f.bind(this._map)([this._event.latitude,this._event.longitude])}else{var f=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0;f.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom});L.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}}},_drawCompass:function(){if(!this._event){return} var latlng=this._event.latlng;if(this.options.showCompass&&latlng&&this._compassHeading!==null){var cStyle=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;if(!this._compass){this._compass=new this.options.compassClass(latlng,this._compassHeading,cStyle).addTo(this._layer)}else{this._compass.setLatLng(latlng);this._compass.setHeading(this._compassHeading);if(this._compass.setStyle){this._compass.setStyle(cStyle)}}} if(this._compass&&(!this.options.showCompass||this._compassHeading===null)){this._compass.removeFrom(this._layer);this._compass=null}},_drawMarker:function(){if(this._event.accuracy===undefined){this._event.accuracy=0} var radius=this._event.accuracy;var latlng=this._event.latlng;if(this.options.drawCircle){var style=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;if(!this._circle){this._circle=L.circle(latlng,radius,style).addTo(this._layer)}else{this._circle.setLatLng(latlng).setRadius(radius).setStyle(style)}} var distance,unit;if(this.options.metric){distance=radius.toFixed(0);unit=this.options.strings.metersUnit}else{distance=(radius*3.2808399).toFixed(0);unit=this.options.strings.feetUnit} if(this.options.drawMarker){var mStyle=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;if(!this._marker){this._marker=new this.options.markerClass(latlng,mStyle).addTo(this._layer)}else{this._marker.setLatLng(latlng);if(this._marker.setStyle){this._marker.setStyle(mStyle)}}} this._drawCompass();var t=this.options.strings.popup;if(this.options.showPopup&&t&&this._marker){this._marker.bindPopup(L.Util.template(t,{distance:distance,unit:unit}))._popup.setLatLng(latlng)} if(this.options.showPopup&&t&&this._compass){this._compass.bindPopup(L.Util.template(t,{distance:distance,unit:unit}))._popup.setLatLng(latlng)}},_removeMarker:function(){this._layer.clearLayers();this._marker=undefined;this._circle=undefined},_unload:function(){this.stop();this._map.off('unload',this._unload,this)},_setCompassHeading:function(angle){if(!isNaN(parseFloat(angle))&&isFinite(angle)){angle=Math.round(angle);this._compassHeading=angle;L.Util.requestAnimFrame(this._drawCompass,this)}else{this._compassHeading=null}},_onCompassNeedsCalibration:function(){this._setCompassHeading()},_onDeviceOrientation:function(e){if(!this._active){return} if(e.webkitCompassHeading){this._setCompassHeading(e.webkitCompassHeading)}else if(e.absolute&&e.alpha){this._setCompassHeading(360-e.alpha)}},_onLocationError:function(err){if(err.code==3&&this.options.locateOptions.watch){return} this.stop();this.options.onLocationError(err,this)},_onLocationFound:function(e){if(this._event&&(this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)){return} if(!this._active){return} this._event=e;this._drawMarker();this._updateContainerStyle();switch(this.options.setView){case'once':if(this._justClicked){this.setView()} break;case'untilPan':if(!this._userPanned){this.setView()} break;case'untilPanOrZoom':if(!this._userPanned&&!this._userZoomed){this.setView()} break;case'always':this.setView();break;case false:break} this._justClicked=!1},_onDrag:function(){if(this._event&&!this._ignoreEvent){this._userPanned=!0;this._updateContainerStyle();this._drawMarker()}},_onZoom:function(){if(this._event&&!this._ignoreEvent){this._userZoomed=!0;this._updateContainerStyle();this._drawMarker()}},_onZoomEnd:function(){if(this._event){this._drawCompass()} if(this._event&&!this._ignoreEvent){if(this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())){this._userPanned=!0;this._updateContainerStyle();this._drawMarker()}}},_isFollowing:function(){if(!this._active){return!1} if(this.options.setView==='always'){return!0}else if(this.options.setView==='untilPan'){return!this._userPanned}else if(this.options.setView==='untilPanOrZoom'){return!this._userPanned&&!this._userZoomed}},_isOutsideMapBounds:function(){if(this._event===undefined){return!1} return this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle:function(){if(!this._container){return} if(this._active&&!this._event){this._setClasses('requesting')}else if(this._isFollowing()){this._setClasses('following')}else if(this._active){this._setClasses('active')}else{this._cleanClasses()}},_setClasses:function(state){if(state=='requesting'){removeClasses(this._container,"active following");addClasses(this._container,"requesting");removeClasses(this._icon,this.options.icon);addClasses(this._icon,this.options.iconLoading)}else if(state=='active'){removeClasses(this._container,"requesting following");addClasses(this._container,"active");removeClasses(this._icon,this.options.iconLoading);addClasses(this._icon,this.options.icon)}else if(state=='following'){removeClasses(this._container,"requesting");addClasses(this._container,"active following");removeClasses(this._icon,this.options.iconLoading);addClasses(this._icon,this.options.icon)}},_cleanClasses:function(){L.DomUtil.removeClass(this._container,"requesting");L.DomUtil.removeClass(this._container,"active");L.DomUtil.removeClass(this._container,"following");removeClasses(this._icon,this.options.iconLoading);addClasses(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1;this._justClicked=!1;this._userPanned=!1;this._userZoomed=!1}});L.control.locate=function(options){return new L.Control.Locate(options)};return LocateControl},window))</script> <script type="text/javascript">L.Control.Social=L.Control.extend({options:{position:'bottomleft',default_text:"What a nice map",links:[['facebook',"Facebook","https://www.facebook.com/sharer.php?u=_url_&t=_text_"],['telegram',"Telegram","https://telegram.me/share/url?url=_url_&text=_text_"],]},initialize:function(options){L.Util.setOptions(this,options)},share:function(){var url=this.link;url=url.replace(/_text_/,encodeURIComponent(this.self.options.default_text));url=url.replace(/_url_/,encodeURIComponent(location.href));window.open(url,'MyWindow',width=300,height=200);return!1},onAdd:function(map){this.map=map;this._container=L.DomUtil.create('div','leaflet-control leaflet-bar');for(var i=0;i<this.options.links.length;i++){var infos=this.options.links[i];var link=L.DomUtil.create('a','leaflet-social-control-'+infos[0]+' icon-'+infos[0],this._container);link.href=infos[2];link.title=infos[1];L.DomEvent.addListener(link,'click',L.DomEvent.stopPropagation).addListener(link,'click',L.DomEvent.preventDefault).addListener(link,'click',this.share,{self:this,link:infos[2]})} return this._container}});L.control.social=function(options){return new L.Control.Social(options)}</script> <script type="text/javascript">L.Control.Bar=L.Control.extend({options:{position:'bottomleft'},initialize:function(options){L.Util.setOptions(this,options)},startTour:function(){KH.prototype.markerClickListener(geoJson[0],!1)},onAdd:function(map){this.map=map;this._container=L.DomUtil.create('div','leaflet-control leaflet-bar');var tour=L.DomUtil.create('a','icon-map-signs',this._container);tour.href='#';L.DomEvent.addListener(tour,'click',L.DomEvent.stopPropagation).addListener(tour,'click',L.DomEvent.preventDefault).addListener(tour,'click',this.startTour);return this._container}});L.control.bar=function(options){return new L.Control.Bar(options)}</script> <script type="text/javascript">var after,before,options={containerSelector:"#container",bounds:{southWest:{lat:49.901689,lng:36.4614},northEast:{lat:50.115857,lng:36.019992}},markerClickCallback:markerClickHandler};document.addEventListener("DOMContentLoaded",function(){var t;function e(){var t=document.getElementById("container").classList;applySmallStyle(t),KH.prototype.flyToTargetPoint(selectedPoint)}KH.prototype.initialize(options),initContentPanel(),window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(e,500)})});</script> <script type="text/javascript">!function(o,e,n){"use strict";var i={iconColor:"#1EB300",iconAnchor:{marker:[14,36],circle:[11,10],"circle-dot":[5,5],"rectangle-dot":[5,6],doughnut:[8,8]},popupAnchor:{marker:[0,-25],circle:[-3,-76],"circle-dot":[0,-2],"rectangle-dot":[0,-2],doughnut:[0,-2]},innerIconAnchor:{marker:[-2,5],circle:[0,2]},iconSize:{marker:[28,28],circle:[22,22],"circle-dot":[2,2],"rectangle-dot":[2,2],doughnut:[15,15]}};L.BeautifyIcon={Icon:L.Icon.extend({options:{icon:"leaf",iconSize:i.iconSize.circle,iconAnchor:i.iconAnchor.circle,iconShape:"circle",iconStyle:"",innerIconAnchor:[0,3],innerIconStyle:"",isAlphaNumericIcon:!1,text:1,borderColor:i.iconColor,borderWidth:2,borderStyle:"solid",backgroundColor:"white",textColor:i.iconColor,customClasses:"",spin:!1,prefix:"fa",html:""},initialize:function(o){this.applyDefaults(o),this.options=o&&o.html?o:L.Util.setOptions(this,o)},applyDefaults:function(o){o&&(!o.iconSize&&o.iconShape&&(o.iconSize=i.iconSize[o.iconShape]),!o.iconAnchor&&o.iconShape&&(o.iconAnchor=i.iconAnchor[o.iconShape]),!o.popupAnchor&&o.iconShape&&(o.popupAnchor=i.popupAnchor[o.iconShape]),o.innerIconAnchor||"circle"!==o.iconShape&&"marker"!==o.iconShape||("circle"===o.iconShape&&o.isAlphaNumericIcon?o.innerIconAnchor=[0,-1]:"marker"!==o.iconShape||o.isAlphaNumericIcon||(o.innerIconAnchor=i.innerIconAnchor[o.iconShape])))},createIcon:function(){var o=e.createElement("div"),n=this.options;if(o.innerHTML=n.html?n.html:this.createIconInnerHtml(),this._setIconStyles(o),"marker"===this.options.iconShape){var i=e.createElement("div");return i.className="beautify-marker",i.appendChild(o),i}return o},createIconInnerHtml:function(){var o=this.options;if("circle-dot"===o.iconShape||"rectangle-dot"===o.iconShape||"doughnut"===o.iconShape)return"";var e=this.getInnerIconStyle(o);if(o.isAlphaNumericIcon)return'<div style="'+e+'">'+o.text+"</div>";var n="";return o.spin&&(n=" fa-spin"),'<i class="'+o.prefix+" "+o.prefix+"-"+o.icon+n+'" style="'+e+'"></i>'},getInnerIconStyle:function(o){var e=L.point(o.innerIconAnchor);return"color:"+o.textColor+";margin-top:"+e.y+"px; margin-left:"+e.x+"px;"+o.innerIconStyle},_setIconStyles:function(o){var e=this.options,n=L.point(e.iconSize),i=L.point(e.iconAnchor);if(o.className="beautify-marker ",e.iconShape&&(o.className+=e.iconShape),e.customClasses&&(o.className+=" "+e.customClasses),o.style.backgroundColor=e.backgroundColor,o.style.color=e.textColor,o.style.borderColor=e.borderColor,o.style.borderWidth=e.borderWidth+"px",o.style.borderStyle=e.borderStyle,n&&(o.style.width=n.x+"px",o.style.height=n.y+"px"),i&&(o.style.marginLeft=-i.x+"px",o.style.marginTop=-i.y+"px"),e.iconStyle){var c=o.getAttribute("style");c+=e.iconStyle,o.setAttribute("style",c)}}})},L.BeautifyIcon.icon=function(o){return new L.BeautifyIcon.Icon(o)}}(0,document);</script> <script type="text/javascript">window,KH=L.Class.extend({options:{},_initializeBeforeMap:function(){var t="https://17200.selcdn.ru/AerialWWII/Z{z}/{y}/{x}.jpg",e=[],o=this._buildMap("map-base",t,e);return o.markers=e,L.tileLayer.fallback(t,{minNativeZoom:13}).addTo(o),o},_initializeAfterMap:function(){var t=[],e=this._buildMap("map-overlay","https://api.tiles.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoibm9yZG5vbWFkIiwiYSI6ImNrMjA3emg0cjEyc2YzY2w4MmltYWxqeGMifQ.jGJYfQpF8De6ZhhafArC1Q",t);return e.markers=t,e},_buildMap:function(t,e,o){var i=this.options.bounds,r=L.latLng(i.southWest.lat,i.southWest.lng),a=L.latLng(i.northEast.lat,i.northEast.lng),n={attributionControl:!1,inertia:!0,maxZoom:17,minZoom:13,zoom:16,tileSize:256,zoomControl:!1,center:{lat:50.00572,lng:36.229192},maxBounds:L.latLngBounds(r,a)},s=L.map(t,n);new L.Control.Zoom({position:"bottomright"}).addTo(s);var c={position:"bottomright",icon:"icon-location-arrow",iconLoading:"spinner icon-spinner",iconElementTag:"a",drawCircle:!1,drawMarker:!1,strings:{title:"Показать мое местоположение"},onLocationOutsideMapBounds:function(t){console.log("You are out of bounds!"),console.log(t)}};L.control.locate(c).addTo(s);var l={default_text:"Как изменился Харьков с 1942го до сегодня",position:"bottomright"};return L.control.bar(l).addTo(s),L.control.social(l).addTo(s),L.tileLayer(e,{detectRetina:!0}).addTo(s),L.geoJson(geoJson,{pointToLayer:function(t,e){var i=KH.prototype._initializeMarker(t,e);return o.push(i),i}}).addTo(s),s},initialize:function(t){this.options=t,this.mapBase=document.querySelector("#map-base");var e=this._initializeBeforeMap();this.before=new Object,this.before.map=e,this.after=new Object,this.after.map=this._initializeAfterMap();var o=document.querySelector(this.options.containerSelector);this.containerClasses=o.classList,$(this.options.containerSelector).beforeAfter(),this._syncMaps({})},_initializeMarker:function(t,e){var o=L.BeautifyIcon.icon({iconShape:"circle-dot",borderWidth:5,borderColor:"#c00"}),i=L.marker(e,{icon:o});return i.on("click",function(t){var e=$("#map-clip").css("left");KH.prototype.markerClickListener(t.target.feature,parseInt(e,10)<t.layerPoint.x)}),i},markerClickListener:function(t,e){this._unsyncMaps(),this.unselectMarker(),this._selectMarker(t.properties.title),this.options.markerClickCallback(t,e),selectedPoint=t.geometry.coordinates,this.flyToTargetPoint(t.geometry.coordinates),this._syncMaps({noInitialSync:!0})},_selectMarker:function(t){var e,o=L.BeautifyIcon.icon({prefix:"icon",icon:"info",borderColor:"#c00",backgroundColor:"#c00",textColor:"white"});this.before.map.markers.forEach(function(o,i){var r=o.feature.properties.title;t==r&&(e=i)});var i=this.after.map.markers[e];i.setIcon(o),this.after.map.selectedMarker=i;var r=this.before.map.markers[e];r.setIcon(o),this.before.map.selectedMarker=r},unselectMarker:function(){var t=L.BeautifyIcon.icon({iconShape:"circle-dot",borderWidth:5,borderColor:"#c00"});this.before.map.selectedMarker&&(this.before.map.selectedMarker.setIcon(t),this.after.map.selectedMarker.setIcon(t))},_unsyncMaps:function(){this.before.map.unsync(this.after.map),this.after.map.unsync(this.before.map)},_syncMaps:function(t){this.before.map.sync(this.after.map,t),this.after.map.sync(this.before.map,t)},flyToTargetPoint:function(t){var e,o={lat:t[1],lng:t[0]},i=this.before.map.project(o,16);if(isPortraitOrientation()){var r=this.mapBase.offsetHeight;e=i.subtract([0,-r/4])}else{var a=this.mapBase.offsetWidth;e=i.subtract([a/4,0])}var n=this.before.map.unproject(e,16);hideMapControls(),this.before.map.flyTo(n,16,{animate:!1}),this.after.map.flyTo(n,16,{animate:!1})}});</script> </body></html>